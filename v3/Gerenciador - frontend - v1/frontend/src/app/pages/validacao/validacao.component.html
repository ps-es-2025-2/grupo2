<div class="container" style="padding: 20px; max-width: 600px; margin: 0 auto;">
  <h2>Validar Ficha / QR Code</h2>
  <button routerLink="/dashboard" style="margin-bottom: 20px;">Voltar</button>
  <hr>

  <div style="background: #f0f0f0; padding: 20px; border-radius: 10px; text-align: center;">
    <label style="font-size: 1.2em; display: block; margin-bottom: 10px;">Digite o C√≥digo da Ficha:</label>
    
    <input type="text" [(ngModel)]="codigoInput" placeholder="Ex: a1b2-c3d4..." 
           style="width: 80%; padding: 15px; font-size: 1.2em; text-align: center; border-radius: 5px; border: 1px solid #ccc;">
    
    <br><br>
    
    <button (click)="consultarFicha()" 
            style="padding: 15px 30px; background: #007bff; color: white; border: none; font-size: 1.1em; border-radius: 5px; cursor: pointer;">
      üîç CONSULTAR
    </button>
  </div>

  <div *ngIf="mensagemErro" style="margin-top: 20px; padding: 15px; background: #ffebee; color: #c62828; border: 1px solid #ef9a9a; border-radius: 5px; text-align: center;">
    {{ mensagemErro }}
  </div>

  <div *ngIf="fichaEncontrada" style="margin-top: 30px; border: 2px solid #333; border-radius: 10px; overflow: hidden;">
    
    <div [style.background]="fichaEncontrada.status === 'GERADA' ? '#28a745' : '#dc3545'" 
         style="padding: 15px; color: white; text-align: center; font-weight: bold; font-size: 1.5em;">
      {{ fichaEncontrada.status === 'GERADA' ? '‚úÖ V√ÅLIDA' : '‚ùå ' + fichaEncontrada.status }}
    </div>

    <div style="padding: 20px; background: white;">
      <p><strong>Produto:</strong> <span style="font-size: 1.3em;">{{ fichaEncontrada.item?.produto?.nome || 'Produto n√£o identificado' }}</span></p>
      <p><strong>Cliente:</strong> {{ fichaEncontrada.venda?.cliente?.nome || 'Consumidor Final' }}</p>
      <p><strong>C√≥digo:</strong> <small>{{ fichaEncontrada.codigo }}</small></p>
      
      <hr>

      <button *ngIf="fichaEncontrada.status === 'GERADA'" 
              (click)="entregarProduto()"
              style="width: 100%; padding: 20px; background: #28a745; color: white; border: none; font-size: 1.3em; font-weight: bold; cursor: pointer;">
        ENTREGAR BEBIDA üç∫
      </button>
      
      <div *ngIf="fichaEncontrada.status !== 'GERADA'" style="text-align: center; color: #666; font-style: italic;">
        Esta ficha n√£o pode ser usada novamente.
      </div>

    </div>
  </div>
</div>